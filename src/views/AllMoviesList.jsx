import React, { Component } from 'react'
import MovieList from './MovieList'

import './AllMoviesList.scss'

export default class AllMoviesList extends Component {
  static propTypes = {
    genres: React.PropTypes.array
  }
  constructor(props) {
    super(props)

    this.state = {
      movies: null
    }
  }
  componentDidMount() {
    // fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${process.env.TMDB_API_KEY}`)
    // .then(r => r.json())
    // .then(blob => {
    //   console.log(blob)
    // })
    setTimeout(() => {
      this.setState({
        movies: {"page":1,"results":[{"poster_path":"/z6BP8yLwck8mN9dtdYKkZ4XGa3D.jpg","adult":false,"overview":"A big screen remake of John Sturges' classic western The Magnificent Seven, itself a remake of Akira Kurosawa's Seven Samurai. Seven gun men in the old west gradually come together to help a poor village against savage thieves.","release_date":"2016-09-14","genre_ids":[28,12,37],"id":333484,"original_title":"The Magnificent Seven","original_language":"en","title":"The Magnificent Seven","backdrop_path":"/g54J9MnNLe7WJYVIvdWTeTIygAH.jpg","popularity":38.19583,"vote_count":297,"video":false,"vote_average":4.68},{"poster_path":"/5N20rQURev5CNDcMjHVUZhpoCNC.jpg","adult":false,"overview":"Following the events of Age of Ultron, the collective governments of the world pass an act designed to regulate all superhuman activity. This polarizes opinion amongst the Avengers, causing two factions to side with Iron Man or Captain America, which causes an epic battle between former allies.","release_date":"2016-04-27","genre_ids":[28,53,878],"id":271110,"original_title":"Captain America: Civil War","original_language":"en","title":"Captain America: Civil War","backdrop_path":"/m5O3SZvQ6EgD5XXXLPIP1wLppeW.jpg","popularity":27.717684,"vote_count":3087,"video":false,"vote_average":6.78},{"poster_path":"/tgfRDJs5PFW20Aoh1orEzuxW8cN.jpg","adult":false,"overview":"Arthur Bishop thought he had put his murderous past behind him when his most formidable foe kidnaps the love of his life. Now he is forced to travel the globe to complete three impossible assassinations, and do what he does best, make them look like accidents.","release_date":"2016-08-25","genre_ids":[28,80,53],"id":278924,"original_title":"Mechanic: Resurrection","original_language":"en","title":"Mechanic: Resurrection","backdrop_path":"/6kMu4vECAyTpj2Z7n8viJ4RAaYh.jpg","popularity":24.511839,"vote_count":378,"video":false,"vote_average":4.27},{"poster_path":"/4qnJ1hsMADxzwnOmnwjZTNp0rKT.jpg","adult":false,"overview":"Following a ghost invasion of Manhattan, paranormal enthusiasts Erin Gilbert and Abby Yates, nuclear engineer Jillian Holtzmann, and subway worker Patty Tolan band together to stop the otherworldly threat.","release_date":"2016-07-14","genre_ids":[28,35,14],"id":43074,"original_title":"Ghostbusters","original_language":"en","title":"Ghostbusters","backdrop_path":"/lbtG9MTb8i13KhXuyl3bmnqt7Lt.jpg","popularity":19.335951,"vote_count":550,"video":false,"vote_average":5.23},{"poster_path":"/zSouWWrySXshPCT4t3UKCQGayyo.jpg","adult":false,"overview":"After the re-emergence of the world's first mutant, world-destroyer Apocalypse, the X-Men must unite to defeat his extinction level plan.","release_date":"2016-05-18","genre_ids":[28,12,14,878],"id":246655,"original_title":"X-Men: Apocalypse","original_language":"en","title":"X-Men: Apocalypse","backdrop_path":"/oQWWth5AOtbWG9o8SCAviGcADed.jpg","popularity":18.218299,"vote_count":1933,"video":false,"vote_average":6.08},{"poster_path":"/7rfucKCjV01OEsGr9grXa34Aywd.jpg","adult":false,"overview":"In the sequel to Tim Burton's \"Alice in Wonderland\", Alice Kingsleigh returns to Underland and faces a new adventure in saving the Mad Hatter.","release_date":"2016-05-25","genre_ids":[12,10751,14],"id":241259,"original_title":"Alice Through the Looking Glass","original_language":"en","title":"Alice Through the Looking Glass","backdrop_path":"/2azgMtH7vt5av3OgqdiMJfjn3EH.jpg","popularity":16.802734,"vote_count":390,"video":false,"vote_average":6.54},{"poster_path":"/peJ7WrEW4OV6SvObhSFZRPzqOjj.jpg","adult":false,"overview":"We always knew they were coming back. Using recovered alien technology, the nations of Earth have collaborated on an immense defense program to protect the planet. But nothing can prepare us for the aliensâ€™ advanced and unprecedented force. Only the ingenuity of a few brave men and women can bring our world back from the brink of extinction.","release_date":"2016-06-22","genre_ids":[28,12,878],"id":47933,"original_title":"Independence Day: Resurgence","original_language":"en","title":"Independence Day: Resurgence","backdrop_path":"/8SqBiesvo1rh9P1hbJTmnVum6jv.jpg","popularity":15.31078,"vote_count":1040,"video":false,"vote_average":4.73},{"poster_path":"/ckrTPz6FZ35L5ybjqvkLWzzSLO7.jpg","adult":false,"overview":"The peaceful realm of Azeroth stands on the brink of war as its civilization faces a fearsome race of invaders: orc warriors fleeing their dying home to colonize another. As a portal opens to connect the two worlds, one army faces destruction and the other faces extinction. From opposing sides, two heroes are set on a collision course that will decide the fate of their family, their people, and their home.","release_date":"2016-05-25","genre_ids":[28,12,14],"id":68735,"original_title":"Warcraft","original_language":"en","title":"Warcraft","backdrop_path":"/5SX2rgKXZ7NVmAJR5z5LprqSXKa.jpg","popularity":14.80667,"vote_count":876,"video":false,"vote_average":6.04},{"poster_path":"/kqjL17yufvn9OVLyXYpvtyrFfak.jpg","adult":false,"overview":"An apocalyptic story set in the furthest reaches of our planet, in a stark desert landscape where humanity is broken, and most everyone is crazed fighting for the necessities of life. Within this world exist two rebels on the run who just might be able to restore order. There's Max, a man of action and a man of few words, who seeks peace of mind following the loss of his wife and child in the aftermath of the chaos. And Furiosa, a woman of action and a woman who believes her path to survival may be achieved if she can make it across the desert back to her childhood homeland.","release_date":"2015-05-13","genre_ids":[28,12,878,53],"id":76341,"original_title":"Mad Max: Fury Road","original_language":"en","title":"Mad Max: Fury Road","backdrop_path":"/tbhdm8UJAb4ViCTsulYFL3lxMCd.jpg","popularity":13.558391,"vote_count":5430,"video":false,"vote_average":7.23},{"poster_path":"/6FxOPJ9Ysilpq0IgkrMJ7PubFhq.jpg","adult":false,"overview":"Tarzan, having acclimated to life in London, is called back to his former home in the jungle to investigate the activities at a mining encampment.","release_date":"2016-06-29","genre_ids":[28,12],"id":258489,"original_title":"The Legend of Tarzan","original_language":"en","title":"The Legend of Tarzan","backdrop_path":"/75GFqrnHMKqkcNZ2wWefWXfqtMV.jpg","popularity":13.421681,"vote_count":1154,"video":false,"vote_average":4.93},{"poster_path":"/e1mjopzAS2KNsvpbpahQ1a6SkSn.jpg","adult":false,"overview":"From DC Comics comes the Suicide Squad, an antihero team of incarcerated supervillains who act as deniable assets for the United States government, undertaking high-risk black ops missions in exchange for commuted prison sentences.","release_date":"2016-08-03","genre_ids":[28,80,14],"id":297761,"original_title":"Suicide Squad","original_language":"en","title":"Suicide Squad","backdrop_path":"/ndlQ2Cuc3cjTL7lTynw6I4boP4S.jpg","popularity":12.829614,"vote_count":1970,"video":false,"vote_average":5.91},{"poster_path":"/6vuxwCfBejPfUjMxrPgk0ANmVFq.jpg","adult":false,"overview":"An injured surfer stranded on a buoy needs to get back to shore, but the great white shark stalking her might have other ideas.","release_date":"2016-06-24","genre_ids":[27,18,53],"id":332567,"original_title":"The Shallows","original_language":"en","title":"The Shallows","backdrop_path":"/lEkHdk4g0nAKtMcHBtSmC1ON3O1.jpg","popularity":12.60908,"vote_count":429,"video":false,"vote_average":6.02},{"poster_path":"/jjBgi2r5cRt36xF6iNUEhzscEcb.jpg","adult":false,"overview":"Twenty-two years after the events of Jurassic Park, Isla Nublar now features a fully functioning dinosaur theme park, Jurassic World, as originally envisioned by John Hammond.","release_date":"2015-06-09","genre_ids":[28,12,878,53],"id":135397,"original_title":"Jurassic World","original_language":"en","title":"Jurassic World","backdrop_path":"/dkMD5qlogeRMiEixC4YNPUvax2T.jpg","popularity":12.268458,"vote_count":5042,"video":false,"vote_average":6.59},{"poster_path":"/lw0IqOSMsQcy1QnVIEIDppLmNwk.jpg","adult":false,"overview":"A group of teens break into a blind man's home thinking they'll get away with the perfect crime. They're wrong.","release_date":"2016-08-25","genre_ids":[27,53],"id":300669,"original_title":"Don't Breathe","original_language":"en","title":"Don't Breathe","backdrop_path":"/bCThHXQ3aLLDU3KFST0rC8mTan5.jpg","popularity":11.981102,"vote_count":230,"video":false,"vote_average":5.88},{"poster_path":"/nBNZadXqJSdt05SHLqgT0HuC5Gm.jpg","adult":false,"overview":"Interstellar chronicles the adventures of a group of explorers who make use of a newly discovered wormhole to surpass the limitations on human space travel and conquer the vast distances involved in an interstellar voyage.","release_date":"2014-11-05","genre_ids":[12,18,878],"id":157336,"original_title":"Interstellar","original_language":"en","title":"Interstellar","backdrop_path":"/xu9zaAevzQ5nnrsXN6JcahLnG4i.jpg","popularity":11.933944,"vote_count":5773,"video":false,"vote_average":8.1},{"poster_path":"/gj282Pniaa78ZJfbaixyLXnXEDI.jpg","adult":false,"overview":"Katniss Everdeen reluctantly becomes the symbol of a mass rebellion against the autocratic Capitol.","release_date":"2014-11-18","genre_ids":[878,12,53],"id":131631,"original_title":"The Hunger Games: Mockingjay - Part 1","original_language":"en","title":"The Hunger Games: Mockingjay - Part 1","backdrop_path":"/83nHcz2KcnEpPXY50Ky2VldewJJ.jpg","popularity":11.004642,"vote_count":3264,"video":false,"vote_average":6.68},{"poster_path":"/u8ynhM5I8D7jG2dUE6KlsOgwYYp.jpg","adult":false,"overview":"Mike and Dave are young, adventurous, fun-loving brothers who tend to get out of control at family gatherings. When their sister Jeanie reveals her Hawaiian wedding plans, the rest of the Stangles insist that the brothers bring respectable dates. After placing an ad on Craigslist, the siblings decide to pick Tatiana and Alice, two charming and seemingly normal women. Once they arrive on the island, however, Mike and Dave realize that their companions are ready to get wild and party.","release_date":"2016-07-07","genre_ids":[12,35,10749],"id":316023,"original_title":"Mike and Dave Need Wedding Dates","original_language":"en","title":"Mike and Dave Need Wedding Dates","backdrop_path":"/7HCEX3iu70pUvdnTymTvzJC80on.jpg","popularity":10.899038,"vote_count":154,"video":false,"vote_average":5.94},{"poster_path":"/vOipe2myi26UDwP978hsYOrnUWC.jpg","adult":false,"overview":"After a threat from the tiger Shere Khan forces him to flee the jungle, a man-cub named Mowgli embarks on a journey of self discovery with the help of panther, Bagheera, and free spirited bear, Baloo.","release_date":"2016-04-07","genre_ids":[12,18,14],"id":278927,"original_title":"The Jungle Book","original_language":"en","title":"The Jungle Book","backdrop_path":"/eIOTsGg9FCVrBc4r2nXaV61JF4F.jpg","popularity":10.583243,"vote_count":1289,"video":false,"vote_average":6.36},{"poster_path":"/uSHjeRVuObwdpbECaXJnvyDoeJK.jpg","adult":false,"overview":"A teenager finds himself transported to an island where he must help protect a group of orphans with special powers from creatures intent on destroying them.","release_date":"2016-09-28","genre_ids":[14],"id":283366,"original_title":"Miss Peregrine's Home for Peculiar Children","original_language":"en","title":"Miss Peregrine's Home for Peculiar Children","backdrop_path":"/qXQinDhDZkTiqEGLnav0h1YSUu8.jpg","popularity":10.57485,"vote_count":37,"video":false,"vote_average":6.2},{"poster_path":"/cGOPbv9wA5gEejkUN892JrveARt.jpg","adult":false,"overview":"Fearing the actions of a god-like Super Hero left unchecked, Gotham Cityâ€™s own formidable, forceful vigilante takes on Metropolisâ€™s most revered, modern-day savior, while the world wrestles with what sort of hero it really needs. And with Batman and Superman at war with one another, a new threat quickly arises, putting mankind in greater danger than itâ€™s ever known before.","release_date":"2016-03-23","genre_ids":[28,12,14],"id":209112,"original_title":"Batman v Superman: Dawn of Justice","original_language":"en","title":"Batman v Superman: Dawn of Justice","backdrop_path":"/vsjBeMPZtyB7yNsYY56XYxifaQZ.jpg","popularity":10.122932,"vote_count":3702,"video":false,"vote_average":5.51}],"total_results":282215,"total_pages":14111} // eslint-disable-line
      })
    }, 1000)
  }
  render() {
    const isLoading = this.state.movies === null

    if (isLoading) {
      return <div className="me-loading">
        <i className="fa fa-refresh fa-spin" aria-hidden="true"></i>
      </div>
    }
    else {
      return <div className="me-all">
          <div className="me-all__header">
            <div className="me-all__header__row">
              <div className="me-all__header__title">
                <h1>All Movies</h1>
              </div>
              <div className="me-all__header__search">
                <div className="me-all__header__search__wrapper">
                  <div className="me-all__header__search__input__icon">
                    <i className="fa fa-search"></i>
                  </div>
                  <input type="text" className="me-all__header__search__input" placeholder="Search for movies"/>
                </div>
              </div>
            </div>
            <div className="me-all__header__row">
              <div className="me-movie-list__filter">
                Filter here
              </div>
            </div>
          </div>
          <div className="me-all__content">
            <MovieList movies={this.state.movies} genres={this.props.genres} />
          </div>
        </div>
    }
  }
}
